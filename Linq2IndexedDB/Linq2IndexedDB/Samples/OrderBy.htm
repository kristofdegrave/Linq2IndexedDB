<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title></title>
    <style type="text/css">
        #txtLog {
            height: 200px;
            width: 1000px;
        }
    </style>
    <script src="../Scripts/jquery-1.7.1.js" type="text/javascript"></script>
    <script src="../Scripts/Linq2IndexedDB.js" type="text/javascript"></script>
    <script type="text/javascript">
        $(function () {
            var databaseDefinition = [{
                version: 1,
                objectStores: [{ name: "test", objectStoreOptions: { autoIncrement: true, keyPath: "Id" } }],
                defaultData: [{ objectStoreName: "test", data: { name: "test3" }, remove: false },
                              { objectStoreName: "test", data: { name: "test1" }, remove: false },
                              { objectStoreName: "test", data: { name: "test4" }, remove: false },
                              { objectStoreName: "test", data: { name: "test2" }, remove: false }]
            }];

            var dbConfiguration = new Object();
            dbConfiguration.Name = "OrderByTests";
            dbConfiguration.version = 1;
            dbConfiguration.definition = databaseDefinition;

            var db = $.linq2indexedDB(dbConfiguration.Name, dbConfiguration, true);

            db.deleteDatabase().then(function () {
                db.initialize().then(function () {
                    db.linq.from("test").orderBy("name").select().then(function () { }, function () { }, function (data) {
                        var tekst = $("#txtLog").val();
                        tekst += "Name: " + data["name"] + "\n\r";
                        $("#txtLog").val(tekst);
                    });
                });
            });
        });
    </script>
</head>
<body>
    <textarea cols="200" rows="300"  id="txtLog"></textarea>
</body>
</html>
