<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title></title>
    <style type="text/css">
        #txtLog {
            height: 200px;
            width: 1000px;
        }
    </style>
    <script src="../Scripts/jquery-1.7.1.js" type="text/javascript"></script>
    <script src="../Linq/Linq2IndexedDB.js" type="text/javascript"></script>
    <script>
        $(function () {
            var dbConfiguration = new Object();
            dbConfiguration.Name = "test";
            var db = $.linq2indexeddb(dbConfiguration)
            db.Insert({ Name: "test1", Firstname: "test1", Age: 1 }).Into("person");
            db.Insert({ Name: "test2", Firstname: "test2", Age: 2 }).Into("person");
            db.Insert({ Name: "test3", Firstname: "test3", Age: 3 }).Into("person");
            db.Insert({ Name: "test4", Firstname: "test4", Age: 4 }).Into("person");

            db.From("person").Where("Name").Equals("test1").Select(["Name", "Firstname"]).forEach(function (data) {
                var tekst = $("#txtLog").val();
                tekst += "Name: " + data["Name"] + " Firstname: " + data["Firstname"] + "\n\r";
                $("#txtLog").val(tekst);
            });

            db.From("person").Where("Age").SmallerThen(3).Select(["Name", "Firstname"]).forEach(function (data) {
                var tekst = $("#txtLog").val();
                tekst += "Name: " + data["Name"] + " Firstname: " + data["Firstname"] + "\n\r";
                $("#txtLog").val(tekst);
            });
            //        db.InsertData("person", { Name: "test", Firstname: "test" }, function () {
            //            db.SearchData("person", "Name", "test", function (data) {
            //                var tekst = $("#txtLog").val();
            //                for (var i = 0; i < data.length; i++) {
            //                    tekst += "Id: " + data[i].id + " Name: " + data[i].Name + " Firstname: " + data[i].Firstname + "\n\r";
            //                }

            //                $("#txtLog").val(tekst);
            //            });
            //        })
        });
    </script>
</head>
<body>
    <textarea id="txtLog"></textarea>
</body>
</html>
